

12. Secrets and Deployment Rollout (12 Minutes)
This question focuses on securely injecting credentials and performing a rolling update.

Ensure you are working in the default namespace.

Create a Secret named app-credentials with the key token and the value a-very-secure-token.

Create a Deployment named secure-api with 4 replicas using the image nginx:1.20.

Expose the entire app-credentials Secret as environment variables using envFrom inside the container.

Perform a Rolling Update on the secure-api Deployment to change the image to a newer version: nginx:1.24. Use the appropriate flag to record this change.

Troubleshoot: Check the rollout status and confirm all Pods are updated and running the new image.

Verification: Check the environment variables in one of the new Pods to confirm the token variable is present.